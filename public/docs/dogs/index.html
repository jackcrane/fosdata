<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Dogs# If all of your friends jumped off of a cliff, would you do it too? This study tries to determine whether dogs follow their training over the example of other dogs. Dogs were trained to walk around a wall a certain direction, and then they observed other walking around the wall in the opposite direction. Which way does the dog choose?
The control group condition == 0 did not see any dogs doing anything. When condition == 1, the dog saw the same dog go around the wall in the “wrong” direction three times. When condition == 3, the dog saw three different dogs go around the wall in the “wrong” direction one time. In the experimental setup, each dog repeated the experiment three times. Dogs were led to the spot where they would have to decide which way to go around the wall according to start_direction. If start_direction == 1, then the dog was led to the spot in such a way that the dog was already facing the direction it had been trained to go. When start_direction == 0, the dog was led to the spot facing the direction it was not trained to go. Some dogs did not complete the trial because of stress or some other reason, They are indicated by dropout == 1. From the authors: “In recent years, an increasing number of studies has investigated majority influence in nonhuman animals. However, due to both terminological and methodological issues, evidence for conformity in nonhuman animals is scarce and controversial. Preliminary evidence suggests that wild birds, wild monkeys, and fish show conformity, that is, forgoing personal information in order to copy the majority. By contrast, chimpanzees seem to lack this tendency. The present study is the first to examine whether dogs (Canis familiaris) show conformity.”
">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="http://localhost:1313/docs/dogs/">
  <meta property="og:site_name" content="Fosdata">
  <meta property="og:title" content="dogs">
  <meta property="og:description" content="Dogs# If all of your friends jumped off of a cliff, would you do it too? This study tries to determine whether dogs follow their training over the example of other dogs. Dogs were trained to walk around a wall a certain direction, and then they observed other walking around the wall in the opposite direction. Which way does the dog choose?
The control group condition == 0 did not see any dogs doing anything. When condition == 1, the dog saw the same dog go around the wall in the “wrong” direction three times. When condition == 3, the dog saw three different dogs go around the wall in the “wrong” direction one time. In the experimental setup, each dog repeated the experiment three times. Dogs were led to the spot where they would have to decide which way to go around the wall according to start_direction. If start_direction == 1, then the dog was led to the spot in such a way that the dog was already facing the direction it had been trained to go. When start_direction == 0, the dog was led to the spot facing the direction it was not trained to go. Some dogs did not complete the trial because of stress or some other reason, They are indicated by dropout == 1. From the authors: “In recent years, an increasing number of studies has investigated majority influence in nonhuman animals. However, due to both terminological and methodological issues, evidence for conformity in nonhuman animals is scarce and controversial. Preliminary evidence suggests that wild birds, wild monkeys, and fish show conformity, that is, forgoing personal information in order to copy the majority. By contrast, chimpanzees seem to lack this tendency. The present study is the first to examine whether dogs (Canis familiaris) show conformity.”">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">


  <meta itemprop="name" content="dogs">
  <meta itemprop="description" content="Dogs# If all of your friends jumped off of a cliff, would you do it too? This study tries to determine whether dogs follow their training over the example of other dogs. Dogs were trained to walk around a wall a certain direction, and then they observed other walking around the wall in the opposite direction. Which way does the dog choose?
The control group condition == 0 did not see any dogs doing anything. When condition == 1, the dog saw the same dog go around the wall in the “wrong” direction three times. When condition == 3, the dog saw three different dogs go around the wall in the “wrong” direction one time. In the experimental setup, each dog repeated the experiment three times. Dogs were led to the spot where they would have to decide which way to go around the wall according to start_direction. If start_direction == 1, then the dog was led to the spot in such a way that the dog was already facing the direction it had been trained to go. When start_direction == 0, the dog was led to the spot facing the direction it was not trained to go. Some dogs did not complete the trial because of stress or some other reason, They are indicated by dropout == 1. From the authors: “In recent years, an increasing number of studies has investigated majority influence in nonhuman animals. However, due to both terminological and methodological issues, evidence for conformity in nonhuman animals is scarce and controversial. Preliminary evidence suggests that wild birds, wild monkeys, and fish show conformity, that is, forgoing personal information in order to copy the majority. By contrast, chimpanzees seem to lack this tendency. The present study is the first to examine whether dogs (Canis familiaris) show conformity.”">
  <meta itemprop="wordCount" content="623">

<title>dogs | Fosdata</title>
<link rel="icon" href="/favicon.png" >
<link rel="manifest" href="/manifest.json">
<link rel="canonical" href="http://localhost:1313/docs/dogs/">
<link rel="stylesheet" href="/book.min.cc2c524ed250aac81b23d1f4af87344917b325208841feca0968fe450f570575.css" integrity="sha256-zCxSTtJQqsgbI9H0r4c0SRezJSCIQf7KCWj&#43;RQ9XBXU=" crossorigin="anonymous">


  <script defer src="/fuse.min.js"></script>
  <script defer src="/en.search.min.b967f5b9539a2e584cb3d2a911b1766fe1f31719065f429876ea0effa665f814.js" integrity="sha256-uWf1uVOaLlhMs9KpEbF2b&#43;HzFxkGX0KYduoO/6Zl&#43;BQ=" crossorigin="anonymous"></script>



  
</head>
<body dir="ltr" class="book-kind-page book-type-docs">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    
<aside class="book-menu">
  <div class="book-menu-content">
    
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>Fosdata</span>
  </a>
</h2>


<div class="book-search hidden">
  <input id="book-search-input" type="text" 
    placeholder="Search"
    aria-label="Search"
    maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>













  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/accelerometer/" class="">
      accelerometer</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/acorns/" class="">
      acorns</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/adipose/" class="">
      adipose</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/austen/" class="">
      austen</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/barnacles/" class="">
      barnacles</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/bechdel/" class="">
      bechdel</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/bicycle_signage/" class="">
      bicycle_signage</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/biomass/" class="">
      biomass</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/brake/" class="">
      brake</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/cern/" class="">
      cern</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/child_tasks/" class="">
      child_tasks</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/chimps/" class="">
      chimps</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/cigs/" class="">
      cigs</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/climate/" class="">
      climate</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/conversation/" class="">
      conversation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/covid/" class="">
      covid</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/cows/" class="">
      cows</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/cows_small/" class="">
      cows_small</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/crit_period/" class="">
      crit_period</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/dogs/" class="active">
      dogs</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/draft/" class="">
      draft</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ecars/" class="">
      ecars</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/fish/" class="">
      fish</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/flint/" class="">
      flint</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/frogs/" class="">
      frogs</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/gender/" class="">
      gender</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/hot_dogs/" class="">
      hot_dogs</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/houses/" class="">
      houses</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/humanization/" class="">
      humanization</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/leg_strength/" class="">
      leg_strength</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/leg_strength_full/" class="">
      leg_strength_full</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/letter_frequency/" class="">
      letter_frequency</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/malaria/" class="">
      malaria</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/masks/" class="">
      masks</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/mice_pot/" class="">
      mice_pot</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/movies/" class="">
      movies</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/normtemp/" class="">
      normtemp</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/plastics/" class="">
      plastics</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/powerball/" class="">
      powerball</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/pres_election/" class="">
      pres_election</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/rio_instagram/" class="">
      rio_instagram</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/scotland_births/" class="">
      scotland_births</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/scrabble/" class="">
      scrabble</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/scrabble_ml/" class="">
      scrabble_ml</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/seoulweather/" class="">
      seoulweather</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/sharks/" class="">
      sharks</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/skull_geometry/" class="">
      skull_geometry</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/snails/" class="">
      snails</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/weight_estimate/" class="">
      weight_estimate</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/world_cup/" class="">
      world_cup</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/wrist/" class="">
      wrist</a>
  

        </li>
      
    
  </ul>













</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>



  </div>
</aside>
 

    <div class="book-page">
      <header class="book-header hidden">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/icons/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <h3>dogs</h3>

  <label for="toc-control">
     <img src="/icons/toc.svg" class="book-icon" alt="Table of Contents" /> 
  </label>
</div>


  
  <aside class="hidden">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#initialization">Initialization</a></li>
    <li><a href="#accessing-fields">Accessing fields</a></li>
    <li><a href="#r-sample">R Sample</a></li>
    <li><a href="#llm-instructions">LLM instructions</a></li>
    <li><a href="#fields">Fields</a></li>
    <li><a href="#source">Source</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown book-article"><h1 id="dogs">Dogs<a class="anchor" href="#dogs">#</a></h1>
<p>If all of your friends jumped off of a cliff, would you do it too? This study tries to determine whether dogs follow their training over the example of other dogs. Dogs were trained to walk around a wall a certain direction, and then they observed other walking around the wall in the opposite direction. Which way does the dog choose?</p>
<p>The control group <code>condition == 0</code> did not see any dogs doing anything. When <code>condition == 1</code>, the dog saw <strong>the same dog</strong> go around the wall in the &ldquo;wrong&rdquo; direction three times. When <code>condition == 3</code>, the dog saw <strong>three different dogs</strong> go around the wall in the &ldquo;wrong&rdquo; direction one time. In the experimental setup, each dog repeated the experiment three times. Dogs were led to the spot where they would have to decide which way to go around the wall according to <code>start_direction</code>. If <code>start_direction == 1</code>, then the dog was led to the spot in such a way that the dog was already facing the direction it had been trained to go. When <code>start_direction == 0</code>, the dog was led to the spot facing the direction it was not trained to go. Some dogs did not complete the trial because of stress or some other reason, They are indicated by <code>dropout == 1</code>. From the authors: &ldquo;In recent years, an increasing number of studies has investigated majority influence in nonhuman animals. However, due to both terminological and methodological issues, evidence for conformity in nonhuman animals is scarce and controversial. Preliminary evidence suggests that wild birds, wild monkeys, and fish show conformity, that is, forgoing personal information in order to copy the majority. By contrast, chimpanzees seem to lack this tendency. The present study is the first to examine whether dogs (Canis familiaris) show conformity.&rdquo;</p>
<h2 id="initialization">Initialization<a class="anchor" href="#initialization">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#1e66f5">library</span>(fosdata)
</span></span><span style="display:flex;"><span>data <span style="color:#04a5e5;font-weight:bold">&lt;-</span> fosdata<span style="color:#04a5e5;font-weight:bold">::</span>dogs</span></span></code></pre></div><h2 id="accessing-fields">Accessing fields<a class="anchor" href="#accessing-fields">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>data <span style="color:#04a5e5;font-weight:bold">&lt;-</span> fosdata<span style="color:#04a5e5;font-weight:bold">::</span>dogs
</span></span><span style="display:flex;"><span>trial <span style="color:#04a5e5;font-weight:bold">&lt;-</span> data<span style="color:#04a5e5;font-weight:bold">$</span>trial</span></span></code></pre></div><h2 id="r-sample">R Sample<a class="anchor" href="#r-sample">#</a></h2>
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>webR + fosdata Test</title>

    <!-- CodeMirror -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.52.2/codemirror.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.52.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.52.2/mode/r/r.min.js"></script>

    <style>
      /* CodeMirror box */
      #cm {
        border: 1px solid #ccc;
        font-size: 12px;
      }
      #cm .CodeMirror {
        height: 260px;
      }
      #cm .CodeMirror-scroll {
        overflow: auto !important;
      }

      button {
        padding: 8px 14px;
        margin-top: 6px;
        font-size: 14px;
        background-color: color-mix(in srgb, #fff 90%, var(--color-link) 10%);
        transition: background-color 0.2s;
        color: var(--color-link);
        border: 1px solid var(--color-link);
        cursor: pointer;
      }
      button:disabled {
        opacity: 0.6;
        cursor: not-allowed;
      }
      button:not(:disabled):hover {
        background-color: color-mix(in srgb, #fff 90%, var(--color-link) 20%);
      }

      #plot {
        width: 100%;
        max-height: 800px;
        object-fit: contain;
        display: none;
      }

      /* ------------------- Tabs ------------------- */
      .tabs {
        margin-top: 20px;
        display: flex;
        border-bottom: 1px solid #dfdfdf;
      }

      .tab {
        padding: 4px 7px;
        cursor: pointer;
        border: 1px solid #dfdfdf;
        border-bottom: none;
        margin-right: 4px;
        background: hsl(0, 0%, 98%);
        user-select: none;
        font-size: 12px;
      }

      .tab.active {
        background: white;
        border-bottom: 1px solid white;
        font-weight: bold;
      }

      .tab-content {
        display: none;
        padding: 10px;
        background: white;
        border: 1px solid #dfdfdf;
        border-top: none;
      }

      .tab-content.active {
        display: block;
      }

      /* Console box */
      #console {
        background: #f0f0f0;
        color: #000;
        padding: 10px;
        height: 200px;
        overflow: auto;
        font-size: 12px;
        white-space: pre-wrap;
      }
    </style>

    <script>
      /* ---------------------------------------------------------
       * Tab Switching
       * --------------------------------------------------------- */
      const activateTab = (name) => {
        document
          .querySelectorAll(".tab")
          .forEach((t) => t.classList.remove("active"));
        document
          .querySelectorAll(".tab-content")
          .forEach((t) => t.classList.remove("active"));

        document.getElementById("tab-" + name).classList.add("active");
        document.getElementById("content-" + name).classList.add("active");
      };
    </script>

    <script type="module">
      import { WebR } from "https://webr.r-wasm.org/latest/webr.mjs";

      /* ---------------------------------------------------------
       * Console logging
       * --------------------------------------------------------- */
      const logConsole = (msg) => {
        const out = document.getElementById("console");
        out.textContent += msg + "\n";
        out.scrollTop = out.scrollHeight;
      };

      /* ---------------------------------------------------------
       * IndexedDB Cache (1-hour TTL)
       * --------------------------------------------------------- */
      const openDB = () =>
        new Promise((resolve, reject) => {
          const req = indexedDB.open("webr-cache", 1);

          req.onupgradeneeded = () => {
            const db = req.result;
            if (!db.objectStoreNames.contains("files")) {
              db.createObjectStore("files", { keyPath: "key" });
            }
          };

          req.onsuccess = () => resolve(req.result);
          req.onerror = () => reject(req.error);
        });

      const getCache = async (key) => {
        const db = await openDB();
        return new Promise((resolve) => {
          const tx = db.transaction("files", "readonly");
          const store = tx.objectStore("files");
          const req = store.get(key);

          req.onsuccess = () => {
            const data = req.result;
            if (!data) return resolve(null);

            const isExpired = Date.now() - data.timestamp > 3600_000;
            resolve(isExpired ? null : data.value);
          };

          req.onerror = () => resolve(null);
        });
      };

      const setCache = async (key, value) => {
        const db = await openDB();
        return new Promise((resolve) => {
          const tx = db.transaction("files", "readwrite");
          tx.objectStore("files").put({ key, value, timestamp: Date.now() });
          tx.oncomplete = () => resolve();
        });
      };

      /* ---------------------------------------------------------
       * Fetch override (cache tarballs)
       * --------------------------------------------------------- */
      const realFetch = fetch;

      globalThis.fetch = async (resource, options) => {
        const url = typeof resource === "string" ? resource : resource.url;

        if (url.endsWith(".tar.gz")) {
          const cached = await getCache(url);
          if (cached) {
            return new Response(cached, {
              headers: { "Content-Type": "application/gzip" },
            });
          }

          const res = await realFetch(resource, options);
          const buf = new Uint8Array(await res.clone().arrayBuffer());
          await setCache(url, buf);

          return new Response(buf, {
            headers: { "Content-Type": "application/gzip" },
          });
        }

        return realFetch(resource, options);
      };

      /* ---------------------------------------------------------
       * Global State
       * --------------------------------------------------------- */
      let webR;
      let dataLoaded = false;
      let loadingDone = false;

      const execBtn = () => document.getElementById("execBtn");
      const setBtn = (label, disabled = false) => {
        const b = execBtn();
        b.textContent = label;
        b.disabled = disabled;
      };

      /* ---------------------------------------------------------
       * Cached RDA Loader
       * --------------------------------------------------------- */
      const loadRdaCached = async (url, dest) => {
        let buf = await getCache(url);

        if (!buf) {
          const res = await fetch(url);
          buf = new Uint8Array(await res.arrayBuffer());
          await setCache(url, buf);
        }

        await webR.FS.writeFile(dest, buf);
        await webR.evalR(`load("${dest}")`);
      };

      /* ---------------------------------------------------------
       * Init webR + install packages + load fosdata
       * --------------------------------------------------------- */
      async function init() {
        logConsole("Initializing webR...");
        activateTab("console");
        setBtn("Loading R engine...", true);

        webR = new WebR({ baseUrl: "https://webr.r-wasm.org/latest/" });
        await webR.init();

        const shelter = await new webR.Shelter();
        window._shelter = shelter;

        window.console.warn = (...args) => {
          if (args.toString().includes("Downloading webR")) {
            logConsole(args.toString().trim());
          } else {
            console.warn(...args);
          }
        };

        logConsole("Installing packages...");
        setBtn("Installing packages...", true);

        await webR.installPackages(["ggplot2", "dplyr", "ggthemes"]);

        setBtn("Loading datasets...", true);

        const rdaFiles = [
          "accelerometer.rda",
          "chimps.rda",
          "fish.rda",
          "masks.rda",
          "scrabble.rda",
          "acorns.rda",
          "cigs.rda",
          "flint.rda",
          "mice_pot.rda",
          "seoulweather.rda",
          "adipose.rda",
          "climate.rda",
          "frogs.rda",
          "movies.rda",
          "sharks.rda",
          "austen.rda",
          "conversation.rda",
          "gender.rda",
          "normtemp.rda",
          "skull_geometry.rda",
          "barnacles.rda",
          "covid.rda",
          "hot_dogs.rda",
          "plastics.rda",
          "snails.rda",
          "bechdel.rda",
          "cows_small.rda",
          "houses.rda",
          "powerball.rda",
          "weight_estimate.rda",
          "bicycle_signage.rda",
          "cows.rda",
          "humanization.rda",
          "pres_election.rda",
          "world_cup.rda",
          "biomass.rda",
          "crit_period.rda",
          "leg_strength_full.rda",
          "rio_instagram.rda",
          "wrist.rda",
          "brake.rda",
          "dogs.rda",
          "leg_strength.rda",
          "river_names.rda",
          "cern.rda",
          "draft.rda",
          "letter_frequency.rda",
          "scotland_births.rda",
          "child_tasks.rda",
          "ecars.rda",
          "malaria.rda",
          "scrabble_ml.rda",
        ];

        for (const f of rdaFiles) {
          logConsole(`Loading fosdata: ${f.split(".")[0]}`);
          await loadRdaCached(`/data/${f}`, `/tmp.rda`);
        }

        dataLoaded = true;
        loadingDone = true;
        setBtn("Execute R Code", false);

        await runR(true);
      }

      /* ---------------------------------------------------------
       * Execute R + capture output + auto ggsave
       * --------------------------------------------------------- */
      async function runR(auto = false) {
        if (!dataLoaded) return;
        if (!auto) document.getElementById("console").textContent = "";

        activateTab("console");
        setBtn("Running…", true);

        logConsole("---- Running R ----");

        let code = window.cm.getValue();

        if (code.includes("ggplot(") && !code.includes("ggsave(")) {
          code += `
# Automatically added
ggsave("/plot.png", width = 8, height = 4)
`;
        }

        let result;
        try {
          result = await window._shelter.captureR(code);

          if (Array.isArray(result.output)) {
            for (const evt of result.output) {
              if (evt.type === "stdout" && evt.data) logConsole(evt.data);
              if (evt.type === "stderr" && evt.data)
                logConsole("ERR: " + evt.data);
              if (evt.type === "message" && evt.data) logConsole(evt.data);
              if (
                evt.type === "warning" &&
                evt.data &&
                JSON.stringify(evt.data) !== "{}"
              )
                logConsole("WARNING: " + JSON.stringify(evt.data));
            }
          }
        } catch (err) {
          logConsole("JS Error: " + err);
          setBtn("Execute R Code");
          return;
        }

        if (result.stdout) logConsole(result.stdout.trim());
        if (result.stderr) logConsole("ERR: " + result.stderr.trim());

        /* ----- load plot into tab + auto-switch ----- */
        const img = document.getElementById("plot");
        try {
          const bytes = await webR.FS.readFile("/plot.png");
          const blob = new Blob([bytes], { type: "image/png" });
          img.src = URL.createObjectURL(blob);
          img.style.display = "block";
          activateTab("plot");
        } catch {
          img.style.display = "none";
          logConsole("No plot generated.");
        }

        setBtn("Execute R Code");

        logConsole(`---- Done ----\n`);
      }

      window.init = init;
      window.runR = runR;

      init();
    </script>
  </head>

  <body>
    <div id="cm"></div>

    <script>
      const strip = (s) => s.trim();

      window.cm = CodeMirror(document.querySelector("#cm"), {
        lineNumbers: true,
        tabSize: 2,
        mode: "r",
        value: strip(`
# No sample provided for dogs
#
# That doesn't mean you can't still use the dataset! You have access to the dplyr and ggplot2 packages.
#
# Uncomment the following lines to get started!
# library(dplyr)
# library(ggplot2)

`),
      });
    </script>

    <br />
    <button id="execBtn" onclick="runR()">Loading…</button>

    <!-- ------------------- Tabs ------------------- -->
    <div class="tabs">
      <div id="tab-console" class="tab active" onclick="activateTab('console')">
        Console
      </div>
      <div id="tab-plot" class="tab" onclick="activateTab('plot')">Plot</div>
    </div>

    <!-- Console -->
    <div id="content-console" class="tab-content active">
      <pre id="console"></pre>
    </div>

    <!-- Plot -->
    <div id="content-plot" class="tab-content">
      <img id="plot" alt="scatterplot" />
    </div>
  </body>
</html>

<h2 id="llm-instructions">LLM instructions<a class="anchor" href="#llm-instructions">#</a></h2>
<p>If using an LLM, you can copy-paste the following instructions to accompany your prompt to inform the model of the fields and their types in the dataset.</p>
<details ><summary>LLM Instructions</summary><div class="markdown-inner">
<pre tabindex="0"><code>The fosdata::dogs dataset containing the following fields:

fields[9]{name,type,values}:
  obs_number,character,n/a
  obs_pref,character,[links,rechts]
  obs_position,character,[links,rechts]
  demo_pref,character,[rechts,links,keine]
  condition,integer,n/a
  dropout,integer,n/a
  trial,integer,n/a
  start_direction,integer,n/a
  conform,integer,n/a</code></pre></div></details>
<h2 id="fields">Fields<a class="anchor" href="#fields">#</a></h2>
<table>
  <thead>
      <tr>
          <th>Name</th>
          <th>Description</th>
          <th>Type</th>
          <th>Min</th>
          <th>Max</th>
          <th>Values</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>obs_number</code></td>
          <td><span style="font-size: 0.7em; display: inline-block;">ID of each subject</span></td>
          <td><u style="text-decoration-style: dotted;">character</u></td>
          <td>-</td>
          <td>-</td>
          <td>-</td>
      </tr>
      <tr>
          <td><code>obs_pref</code></td>
          <td><span style="font-size: 0.7em; display: inline-block;">preference of observer in german (&ldquo;links&rdquo; = bypass wall on the left side; &ldquo;rechts&rdquo; = bypass wall on the right side)</span></td>
          <td><u style="text-decoration-style: dotted;">character</u></td>
          <td>-</td>
          <td>-</td>
          <td><code>links</code>, <code>rechts</code></td>
      </tr>
      <tr>
          <td><code>obs_position</code></td>
          <td><span style="font-size: 0.7em; display: inline-block;">observing position of observer in german (&ldquo;links&rdquo; = left ; &ldquo;rechts&rdquo; = right)</span></td>
          <td><u style="text-decoration-style: dotted;">character</u></td>
          <td>-</td>
          <td>-</td>
          <td><code>links</code>, <code>rechts</code></td>
      </tr>
      <tr>
          <td><code>demo_pref</code></td>
          <td><span style="font-size: 0.7em; display: inline-block;">preference of demonstrator(s)in german (&ldquo;links&rdquo; = bypass wall on the left side; &ldquo;rechts&rdquo; = bypass wall on the right side)</span></td>
          <td><u style="text-decoration-style: dotted;">character</u></td>
          <td>-</td>
          <td>-</td>
          <td><code>rechts</code>, <code>links</code>, <code>keine</code></td>
      </tr>
      <tr>
          <td><code>condition</code></td>
          <td><span style="font-size: 0.7em; display: inline-block;">&ldquo;0&rdquo; = no demonstrator (control condition); &ldquo;1&rdquo; = one demonstrator, &ldquo;3&rdquo; = three demonstrator</span></td>
          <td><u style="text-decoration-style: dotted;">integer</u></td>
          <td>-</td>
          <td>3</td>
          <td>-</td>
      </tr>
      <tr>
          <td><code>dropout</code></td>
          <td><span style="font-size: 0.7em; display: inline-block;">&ldquo;0&rdquo; = remains in final sample, &ldquo;1&rdquo; = excluded from final sample</span></td>
          <td><u style="text-decoration-style: dotted;">integer</u></td>
          <td>-</td>
          <td>1</td>
          <td>-</td>
      </tr>
      <tr>
          <td><code>trial</code></td>
          <td><span style="font-size: 0.7em; display: inline-block;">number of trial (1,2,3)</span></td>
          <td><u style="text-decoration-style: dotted;">integer</u></td>
          <td>1</td>
          <td>3</td>
          <td>-</td>
      </tr>
      <tr>
          <td><code>start_direction</code></td>
          <td><span style="font-size: 0.7em; display: inline-block;">direction the observer was led from observing position to start position (see article for details; &ldquo;0&rdquo; = directed towards a stay response, &ldquo;1&rdquo; directed towards a switch response) )</span></td>
          <td><u style="text-decoration-style: dotted;">integer</u></td>
          <td>-</td>
          <td>1</td>
          <td>-</td>
      </tr>
      <tr>
          <td><code>conform</code></td>
          <td><span style="font-size: 0.7em; display: inline-block;">behavior of observer (&ldquo;0&rdquo; = stay response, &ldquo;1&rdquo; = switch response), as variable value but without misses (which were code NA for analyses)</span></td>
          <td><u style="text-decoration-style: dotted;">integer</u></td>
          <td>-</td>
          <td>1</td>
          <td>-</td>
      </tr>
  </tbody>
</table>
<h2 id="source">Source<a class="anchor" href="#source">#</a></h2>
<p>&ldquo;Germar M, Sultan A, Kaminski J, Mojzisch A (2018) Dogs (Canis familiaris) stick to what they have learned rather than conform to their conspecifics’ behavior. PLoS ONE 13(3): e0194808.&rdquo; <a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0194808">https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0194808</a> &ldquo;Germar, Markus, and Andreas Mojzisch. 2018. “Dogs (Canis Familiaris) Stick to What They Have Learned rather than Conform to Their Conspecifics’ Behavior.” OSF. April 4. osf.io/dgtxt.&rdquo;</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">

<div>

</div>

<div>

</div>

</div>





  
  
  
  <div class="flex flex-wrap justify-between">
    <span>
    
      <a href="/docs/crit_period/" class="flex align-center">
        <img src="/icons/backward.svg" class="book-icon" alt="Backward" />
        <span>crit_period</span>
      </a>
    
    </span>
    <span>
    
      <a href="/docs/draft/" class="flex align-center">
        <span>draft</span>
        <img src="/icons/forward.svg" class="book-icon" alt="Forward" />
      </a>
    
    </span>
  </div>
  


 
        
  
  <div class="book-comments">

</div>
  
 
        
        
  
 
        
  
  
    <script>(function(){document.querySelectorAll("pre:has(code)").forEach(e=>{e.addEventListener("click",e.focus),e.addEventListener("copy",function(t){if(t.preventDefault(),navigator.clipboard){const t=window.getSelection().toString()||e.textContent;navigator.clipboard.writeText(t)}})})})()</script>
  

      </footer>

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
  
  <aside class="book-toc">
    <div class="book-toc-content">
      
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#initialization">Initialization</a></li>
    <li><a href="#accessing-fields">Accessing fields</a></li>
    <li><a href="#r-sample">R Sample</a></li>
    <li><a href="#llm-instructions">LLM instructions</a></li>
    <li><a href="#fields">Fields</a></li>
    <li><a href="#source">Source</a></li>
  </ul>
</nav>



    </div>
  </aside>
  
 
  </main>

  
</body>
</html>




















